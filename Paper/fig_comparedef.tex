\begin{figure}[ht!]
\begin{center}% note that \centering uses less vspace...
\resizebox{\columnwidth}{!}{%
\begin{tikzpicture}
    \begin{axis}[
        footnotesize,
        % set the `width' of the plot to the maximum length ...
        width=\textwidth,
        % ... and use half this length for the `height'
        height=0.5\textwidth,
        % use `data' for the positioning of the `xticks' ...
        xtick=data,
        % ... and use table data for labeling the `xticks'
        xticklabels from table={comparedef.txt}{n},
        % add extra ticks "at the empty entries to add the vertical lines
        extra x ticks={5,11,17,23},
        % this ticks shouldn't be labeled ...
        extra x tick labels={},
        % ... but grid lines should be drawn without the tick lines
        extra x tick style={
            grid=major,
            major tick length=0pt,
        },
        ymin=0,
        ymax=105,
        xlabel={Number of Layers},
        ylabel={Accuracy \%},
        % because of the category labels, shift the `xlabel' a bit down
        xlabel style={
            yshift=-4ex,
            font=\huge,
        },
        ylabel style={
            font=\huge,
        },
        xticklabel style = {font=\large},
        yticklabel style = {font=\large},
        legend style={at={(0.5,-0.15)},anchor=north,legend columns=-1,  font=\huge},
        % adjust `bar width' so it fits your needs ...
        bar width=8pt,
        % ... and with that you also have to adjust the x limits
        enlarge x limits={abs=1},
        % set `clip mode' to `individual' so the category labels aren't clipped away
        clip mode=individual,
    ]

    % plot the "red" ybars
        \addplot [
            ybar,
            draw=red,
            pattern color=red,
            pattern=dots,
        ] table [
            % use just the `coordindex' as x coordinate,
            % the correct labeling is done with `xticklabels from table'
            x expr=\coordindex,
            y=pFA,
        ] {comparedef.txt};

    % plot the "blue" ybars
        \addplot [
            ybar,
            draw=blue,
            pattern color=blue,
            pattern=north east lines,
        ] table [
            x expr=\coordindex,
            y=pFB,
        ] {comparedef.txt};

    \addplot[draw=black,mark=*,thick,smooth] coordinates {(0,56.69) (1,51.92) (2,54.09) (3,52.90)};
    \addplot[draw=black,mark=*,thick,smooth] coordinates {(5,60.40) (6,51.83) (7,52.81) (8,51.85)};
    \addplot[draw=black,mark=*,thick,smooth] coordinates {(10,58.70) (11,53.33) (12,52.90) (13,53.17)};
    \addplot[draw=black,dashed,thick,smooth] coordinates {(0,50)(1,50)(2,50)(3,50)(4,50)(5,50)(6,50)(7,50)(8,50)(9,50)(10,50)(11,50)(12,50)(13,50)};


    % add the category labels
        \begin{scope}[
            % because the reference point will be the lower axis line the
            % labels have to be moved a bit more down to don't overlap with
            % the `xticklabels'
            every label/.append style={
                label distance=2ex,
            },
        ]
            \node [label=below:NiN] at (axis cs:1.5,\pgfkeysvalueof{/pgfplots/ymin}) {};
            \node [label=below:AlexNet] at (axis cs:6.5,\pgfkeysvalueof{/pgfplots/ymin}) {};
            \node [label=below:VGG] at (axis cs:11.5,\pgfkeysvalueof{/pgfplots/ymin}) {};

        \end{scope}
    \legend{Train Accuracy,Test Accuracy,Inference Accuracy}
    \end{axis}
\end{tikzpicture}
}
\caption{\underline{Comparison with prior defences.} Models trained using \method\hspace{0.02in} training methodology are comparable to prior state of the art defences: Adversarial Regularization and Differential Privacy, in terms of test accuracy and inference accuracy while additionally ensuring efficiency.}
\label{fig:compare}
\end{center}
\end{figure}
